=== BDD (playwright-bdd) - Ã‰CHEC ===

=== stdout ===

> galerie-des-souvenirs@0.1.0 test:bdd
> npx bddgen && npx playwright test

[dotenv@17.2.4] injecting env (0) from .env.local -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.4] injecting env (0) from .env.local -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops

Running 42 tests using 6 workers

[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops

[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops

[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[1A[2K[1/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:10:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA1 - L'utilisateur connectÃ© avec alain@maep.fr est reconnu comme administrateur
[1A[2K[2/42] [chromium] â€º .features-gen\tests\bdd\accueil.feature.spec.js:10:7 â€º Page d'accueil â€º La page affiche le message de bienvenue
[1A[2K[3/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:26:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA2 - L'utilisateur non administrateur voit les trois boutons d'intÃ©rÃªt et pas le bouton Supprimer
[1A[2K[4/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:20:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA2 - L'administrateur voit le bouton Supprimer et pas les trois boutons d'intÃ©rÃªt sur les cartes
[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops

[1A[2K[5/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:15:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA1 - L'utilisateur connectÃ© avec un autre email n'est pas administrateur
[1A[2K[dotenv@17.2.4] injecting env (0) from .env.local -- tip: âš™ï¸  enable debug logging with { debug: true }

[1A[2K[6/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:32:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA3 - Clic sur Supprimer ouvre une pop-up de confirmation
[1A[2K[7/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:39:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA3 - Confirmation dans la pop-up supprime le souvenir (base et dossiers)
[1A[2K[8/42] [chromium] â€º .features-gen\tests\bdd\admin-privileges.feature.spec.js:50:7 â€º PrivilÃ¨ges administrateur (US-5.3) â€º CA3 - Annulation ou fermeture de la pop-up n'effectue aucune suppression
[1A[2K[9/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:10:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA1 - L'administrateur voit une case Ã  cocher sur chaque carte souvenir
[1A[2K[10/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:17:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA1 - L'utilisateur non administrateur ne voit pas de case Ã  cocher sur les cartes
[1A[2K[11/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:23:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA2 - Sans sÃ©lection la zone Ã©tiquettes ne propose pas le bouton Ajouter Ã©tiquette
[1A[2K[12/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:29:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA2 - Avec au moins un souvenir cochÃ© le bouton Ajouter Ã©tiquette et la liste des Ã©tiquettes sont visibles
[1A[2K[13/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:37:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA3 - Clic sur Ajouter Ã©tiquette ouvre une pop-up avec champ libellÃ© et boutons Annuler et CrÃ©er
[1A[2K[14/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:48:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA3 - CrÃ©ation d'une nouvelle Ã©tiquette avec libellÃ© non vide l'affecte aux souvenirs cochÃ©s
[1A[2K[15/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:60:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA3 - CrÃ©ation avec un libellÃ© dÃ©jÃ  existant affiche un message et ne crÃ©e pas de doublon
[1A[2K[16/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:72:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA4 - Clic sur une Ã©tiquette qu'aucun souvenir cochÃ© n'a l'affecte Ã  tous les cochÃ©s
[1A[2K[17/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:81:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA4 - Clic sur une Ã©tiquette que tous les souvenirs cochÃ©s ont la dÃ©saffecte pour tous
[1A[2K[18/42] [chromium] â€º .features-gen\tests\bdd\etiquettes-admin.feature.spec.js:90:7 â€º Ã‰tiquettes sur les souvenirs (US-5.4) â€º CA4 - Panachage : une question propose Supprimer sur tout, Affecter Ã  tout ou Annuler
[1A[2K[19/42] [chromium] â€º .features-gen\tests\bdd\filtre-interet-header.feature.spec.js:11:7 â€º Filtre par intÃ©rÃªt et header fixe (US-5.2) â€º CA1 - Le filtre IntÃ©rÃªt est une liste dÃ©roulante Ã  multi-sÃ©lection avec les mÃªmes libellÃ©s que les boutons
[1A[2K[20/42] [chromium] â€º .features-gen\tests\bdd\filtre-interet-header.feature.spec.js:17:7 â€º Filtre par intÃ©rÃªt et header fixe (US-5.2) â€º CA3 - Par dÃ©faut toutes les options du filtre IntÃ©rÃªt sont cochÃ©es
[1A[2K[21/42] [chromium] â€º .features-gen\tests\bdd\filtre-interet-header.feature.spec.js:22:7 â€º Filtre par intÃ©rÃªt et header fixe (US-5.2) â€º CA2 - Les options cochÃ©es du filtre sont combinÃ©es par OU
[1A[2K[22/42] [chromium] â€º .features-gen\tests\bdd\filtre-interet-header.feature.spec.js:28:7 â€º Filtre par intÃ©rÃªt et header fixe (US-5.2) â€º CA4 - Le header (titre et filtres) reste visible au dÃ©filement
[1A[2K[23/42] [chromium] â€º .features-gen\tests\bdd\galerie.feature.spec.js:10:7 â€º Afficher la galerie (US-2.1) â€º CA1 - Page non connectÃ©e affiche le titre centrÃ© et l'invitation
[1A[2K[24/42] [chromium] â€º .features-gen\tests\bdd\galerie.feature.spec.js:17:7 â€º Afficher la galerie (US-2.1) â€º CA2 - Page connectÃ©e affiche le H1 en haut Ã  gauche
[1A[2K[25/42] [chromium] â€º .features-gen\tests\bdd\galerie.feature.spec.js:23:7 â€º Afficher la galerie (US-2.1) â€º CA3 - Page connectÃ©e affiche la galerie sur 4 colonnes
[1A[2K[26/42] [chromium] â€º .features-gen\tests\bdd\message-bienvenue.feature.spec.js:10:7 â€º Message de bienvenue (US-1.1) â€º CA1 - Le titre H1 affiche le message de bienvenue
[1A[2K[27/42] [chromium] â€º .features-gen\tests\bdd\message-bienvenue.feature.spec.js:14:7 â€º Message de bienvenue (US-1.1) â€º CA2 - Le titre est centrÃ© horizontalement et verticalement
[1A[2K[28/42] [chromium] â€º .features-gen\tests\bdd\message-bienvenue.feature.spec.js:19:7 â€º Message de bienvenue (US-1.1) â€º CA2 - Le centrage est conservÃ© sur mobile
[1A[2K[29/42] [chromium] â€º .features-gen\tests\bdd\message-bienvenue.feature.spec.js:25:7 â€º Message de bienvenue (US-1.1) â€º CA2 - Le centrage est conservÃ© sur desktop
[1A[2K[30/42] [chromium] â€º .features-gen\tests\bdd\message-connexion.feature.spec.js:10:7 â€º Message adaptÃ© Ã  l'Ã©tat de connexion (US-1.2) â€º CA1 - Visiteur non connectÃ© voit l'invitation Ã  se connecter
[1A[2K[31/42] [chromium] â€º .features-gen\tests\bdd\message-connexion.feature.spec.js:15:7 â€º Message adaptÃ© Ã  l'Ã©tat de connexion (US-1.2) â€º CA2 - Visiteur connectÃ© voit le message des photos
[1A[2K[32/42] [chromium] â€º .features-gen\tests\bdd\selection-shift.feature.spec.js:10:7 â€º SÃ©lection rapide par Shift (US-5.5) â€º CA1 - Shift + clic sÃ©lectionne toutes les cartes entre la premiÃ¨re et la cible
[1A[2K[33/42] [chromium] â€º .features-gen\tests\bdd\selection-shift.feature.spec.js:18:7 â€º SÃ©lection rapide par Shift (US-5.5) â€º CA2 - Shift + clic sur une carte dÃ©cochÃ©e dÃ©selectionne la plage
[1A[2K[34/42] [chromium] â€º .features-gen\tests\bdd\selection-shift.feature.spec.js:28:7 â€º SÃ©lection rapide par Shift (US-5.5) â€º CA2 - Shift + clic sur une carte cochÃ©e sÃ©lectionne la plage
[1A[2K[35/42] [chromium] â€º .features-gen\tests\bdd\selection-shift.feature.spec.js:36:7 â€º SÃ©lection rapide par Shift (US-5.5) â€º CA3 - Le dernier clic sans Shift dÃ©finit l'ancrage pour le Shift + clic suivant
[1A[2K[36/42] [chromium] â€º .features-gen\tests\bdd\selection-shift.feature.spec.js:46:7 â€º SÃ©lection rapide par Shift (US-5.5) â€º CA4 - Le comportement Shift ne s'applique qu'en mode administrateur
[1A[2K[37/42] [chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:10:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA1 - La table souvenir existe avec les colonnes attendues
[1A[2K[38/42] [chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:15:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA2 - Conversion HEIC rÃ©ussie crÃ©e un enregistrement en base
[1A[2K[39/42] [chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:21:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA4 - Le script db:souvenirs-sync resynchronise la table avec les dossiers
[1A[2K[40/42] [chromium] â€º .features-gen\tests\bdd\sync-utilisateurs.feature.spec.js:10:7 â€º Synchroniser les utilisateurs Clerk vers une table locale (US-3.1) â€º CA1 - La table user existe avec les colonnes attendues
[1A[2K[41/42] [chromium] â€º .features-gen\tests\bdd\sync-utilisateurs.feature.spec.js:16:7 â€º Synchroniser les utilisateurs Clerk vers une table locale (US-3.1) â€º CA2 - Inscription via Clerk crÃ©e un enregistrement en base locale
[1A[2K[42/42] [chromium] â€º .features-gen\tests\bdd\sync-utilisateurs.feature.spec.js:22:7 â€º Synchroniser les utilisateurs Clerk vers une table locale (US-3.1) â€º CA3 - Mise Ã  jour du profil Clerk met Ã  jour la base locale

[1A[2K  1) [chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:21:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA4 - Le script db:souvenirs-sync resynchronise la table avec les dossiers 

    [31mTest timeout of 30000ms exceeded.[39m

    attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tests-bdd-souvenirs-table.-5cd06--la-table-avec-les-dossiers-chromium\trace.zip
    Usage:

        npx playwright show-trace test-results\tests-bdd-souvenirs-table.-5cd06--la-table-avec-les-dossiers-chromium\trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K  1 failed
    [chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:21:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA4 - Le script db:souvenirs-sync resynchronise la table avec les dossiers 
  32 skipped
  9 passed (1.0m)

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m

=== stderr ===
[1A[2K[chromium] â€º .features-gen\tests\bdd\souvenirs-table.feature.spec.js:21:7 â€º Table souvenir et rÃ©fÃ©rencement par le script HEIC (US-4.1) â€º CA4 - Le script db:souvenirs-sync resynchronise la table avec les dossiers
(node:30212) [DEP0190] DeprecationWarning: Passing args to a child process with shell option true can lead to security vulnerabilities, as the arguments are not escaped, only concatenated.
(Use `node --trace-deprecation ...` to show where the warning was created)

